<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNO Game</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Game Room -->
    <div id="game-room" class="section">
        <div class="game-container">
            <!-- Opponents Area -->
            <div class="opponents-area">
                <!-- Each opponent dynamically added here -->
            </div>

            <!-- Center Area -->
            <div class="center-area">
                <div class="deck-area">
                    <!-- Draw Pile -->
                    <div id="draw-pile" class="deck">
                        <div class="uno-card back"></div>
                    </div>
                    <!-- Discard Pile -->
                    <div id="discard-pile" class="discard-pile">
                        <!-- Topmost discarded card will be shown here -->
                    </div>
                </div>
                <!-- Current Color Indicator -->
                <div id="current-color" class="current-color hidden">
                    <span>Current Color:</span>
                    <div class="color-indicator"></div>
                </div>
                <!-- Game Status -->
                <div id="game-status" class="game-status">Waiting for players...</div>
            </div>

            <!-- Player Area -->
            <div class="player-area">
                <div id="player-hand" class="player-hand">
                    <!-- Player's cards will be displayed here -->
                </div>
                <!-- Game Controls -->
                <div class="game-controls">
                    <button id="btn-draw" class="btn btn-primary hidden"><i class="fas fa-plus"></i> Draw</button>
                    <button id="btn-pass" class="btn btn-secondary hidden"><i class="fas fa-forward"></i> Pass</button>
                    <button id="btn-uno" class="btn btn-warning hidden"><i class="fas fa-exclamation-circle"></i> UNO!</button>
                </div>
            </div>
        </div>

        <!-- Chat -->
        <div id="chat-container" class="chat-container">
            <div class="chat-header">
                <h3><i class="fas fa-comment-dots"></i> Chat</h3>
                <button id="toggle-chat" class="btn-icon"><i class="fas fa-chevron-down"></i></button>
            </div>
            <!DOCTYPE html>
            <html lang="pt-BR">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>UNO Online - Jogo | DuduxinDev</title>
                <link rel="stylesheet" href="css/styles.css">
                <!-- Font Awesome -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
                <!-- Google Fonts -->
                <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
            </head>
            <body>
                <!-- Preloader -->
                <div id="preloader">
                    <div class="spinner"></div>
                </div>
            
                <!-- Game Room Section -->
                <div id="game-room-section" class="section">
                    <div class="room-header">
                        <div class="room-info">
                            <h2 id="room-title">Sala de Jogo</h2>
                            <div id="room-code-display" class="room-code">
                                <span>CÃ³digo: </span>
                                <strong id="room-code-text">ABC123</strong>
                                <button id="copy-room-code" class="btn-icon"><i class="fas fa-copy"></i></button>
                            </div>
                        </div>
                        <div class="room-actions">
                            <button id="btn-start-game" class="btn btn-primary hidden"><i class="fas fa-play"></i> Iniciar Jogo</button>
                            <button id="btn-end-game" class="btn btn-warning hidden"><i class="fas fa-stop"></i> Encerrar Jogo</button>
                            <button id="btn-leave-room" class="btn btn-danger"><i class="fas fa-sign-out-alt"></i> Sair</button>
                        </div>
                    </div>
            
                    <div class="game-container">
                        <div class="players-container">
                            <div id="players-list" class="players-list">
                                <!-- Players will be populated here -->
                            </div>
                        </div>
            
                        <div id="game-board" class="game-board">
                            <div class="opponents-area">
                                <!-- Opponent players will be positioned here dynamically -->
                            </div>
                            <div class="center-area">
                                <div class="deck-area">
                                    <div class="deck" id="draw-pile">
                                        <div class="uno-card back"></div>
                                        <div class="uno-card back"></div>
                                        <div class="uno-card back"></div>
                                    </div>
                                    <div class="discard-pile" id="discard-pile">
                                        <!-- Topmost discarded card will be shown here -->
                                    </div>
                                </div>
                                <div id="game-status" class="game-status">Aguardando iniciar o jogo...</div>
                                <div id="current-color" class="current-color hidden">
                                    <span>Cor atual:</span>
                                    <div class="color-indicator"></div>
                                </div>
                            </div>
                            <div class="player-area">
                                <div class="player-info">
                                    <div class="player-avatar">
                                        <img id="player-avatar-img" src="https://api.dicebear.com/6.x/avataaars/svg?seed=player" alt="Player Avatar">
                                    </div>
                                    <div id="player-name" class="player-name">Seu Nome</div>
                                </div>
                                <div id="player-hand" class="player-hand">
                                    <!-- Player's cards will be here -->
                                </div>
                                <div class="game-controls">
                                    <button id="btn-draw" class="btn btn-primary"><i class="fas fa-plus"></i> Comprar</button>
                                    <button id="btn-pass" class="btn btn-secondary"><i class="fas fa-forward"></i> Passar</button>
                                    <button id="btn-uno" class="btn btn-warning"><i class="fas fa-exclamation-circle"></i> UNO!</button>
                                </div>
                            </div>
                        </div>
            
                        <div id="waiting-screen" class="waiting-screen hidden">
                            <h3>Aguardando jogadores...</h3>
                            <div class="players-needed">
                                <span id="players-count">1</span>/<span id="players-required">2</span> jogadores
                            </div>
                            <div class="spinner"></div>
                        </div>
            
                        <div class="chat-container">
                            <div class="chat-header">
                                <h3><i class="fas fa-comment-dots"></i> Chat</h3>
                                <button id="toggle-chat" class="btn-icon"><i class="fas fa-chevron-down"></i></button>
                            </div>
                            <div class="chat-messages" id="chat-messages">
                                <!-- Chat messages will be populated here -->
                            </div>
                            <div class="chat-input-container">
                                <input type="text" id="chat-input" placeholder="Digite sua mensagem...">
                                <button id="send-message" class="btn-icon"><i class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- Color Picker Modal -->
                <div id="color-picker-modal" class="modal">
                    <div class="modal-content color-picker">
                        <div class="modal-header">
                            <h2>Escolha uma cor</h2>
                        </div>
                        <div class="modal-body">
                            <div class="color-options">
                                <button class="color-option red" data-color="red"></button>
                                <button class="color-option blue" data-color="blue"></button>
                                <button class="color-option green" data-color="green"></button>
                                <button class="color-option yellow" data-color="yellow"></button>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- Game Over Modal -->
                <div id="game-over-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>Fim de Jogo!</h2>
                        </div>
                        <div class="modal-body">
                            <div id="winner-announcement">
                                <div id="winner-info" class="winner-info">
                                    <div class="winner-avatar">
                                        <img id="winner-avatar-img" src="" alt="Winner Avatar">
                                    </div>
                                    <div id="winner-name" class="winner-name"></div>
                                </div>
                                <h3>Venceu o jogo!</h3>
                            </div>
                            <div id="game-stats" class="game-stats">
                                <!-- Game stats will be here -->
                            </div>
                            <div class="modal-actions">
                                <button id="btn-play-again" class="btn btn-primary">Jogar Novamente</button>
                                <button id="btn-exit-game" class="btn">Sair do Jogo</button>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- Toast Notifications -->
                <div id="toast-container" class="toast-container"></div>
            
                <!-- Firebase Scripts -->
                <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
                <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
                <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
                <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
                
                <!-- Game Scripts -->
                <script src="js/firebase.js"></script>
                <script src="js/ui.js"></script>
                <script src="js/game.js"></script>
                <script src="js/room.js"></script>
                <script src="js/chat.js"></script>
                <script src="js/game-controller.js"></script>
            </body>
            </html>